 <!-- Page Heading -->
 <div class="d-sm-flex align-items-center justify-content-between mb-4">
    <h1 class="h3 mb-0 text-gray-800">Dashboard</h1>
    <a href="#" class="d-none d-sm-inline-block btn btn-sm btn-primary shadow-sm"><i
            class="fas fa-download fa-sm text-white-50"></i> Generate Report</a>
</div>

<!-- Content Row -->
<div class="row">

    <!-- Earnings (Monthly) Card Example -->
    <div class="col-xl-3 col-md-6 mb-4">
        <div class="card border-left-primary shadow h-100 py-2">
            <div class="card-body">
                <div class="row no-gutters align-items-center">
                    <div class="col mr-2">
                        <div class="text-xs font-weight-bold text-primary text-uppercase mb-1">
                            Total Number of Drivers</div>
                        <div class="h5 mb-0 font-weight-bold text-gray-800">$40,000</div>
                    </div>
                    <div class="col-auto">
                        <i class="fa fa-drivers-license fa-2x text-gray-300"></i>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Earnings (Monthly) Card Example -->
    <div class="col-xl-3 col-md-6 mb-4">
        <div class="card border-left-success shadow h-100 py-2">
            <div class="card-body">
                <div class="row no-gutters align-items-center">
                    <div class="col mr-2">
                        <div class="text-xs font-weight-bold text-success text-uppercase mb-1">
                            Total Number Of Dustbin</div>
                        <div class="h5 mb-0 font-weight-bold text-gray-800">$215,000</div>
                    </div>
                    <div class="col-auto">
                        <i class="fas fa-trash fa-2x text-gray-300"></i>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Earnings (Monthly) Card Example -->
    <div class="col-xl-3 col-md-6 mb-4">
        <div class="card border-left-info shadow h-100 py-2">
            <div class="card-body">
                <div class="row no-gutters align-items-center">
                    <div class="col mr-2">
                        <div class="text-xs font-weight-bold text-info text-uppercase mb-1">
                            Completed Complaints
                        </div>
                        <div class="row no-gutters align-items-center">
                            <div class="col-auto">
                                <div class="h5 mb-0 mr-3 font-weight-bold text-gray-800">50%
                                </div>
                            </div>
                            <div class="col">
                                <div class="progress progress-sm mr-2">
                                    <div class="progress-bar bg-info" role="progressbar"
                                        style="width: 50%" aria-valuenow="50" aria-valuemin="0"
                                        aria-valuemax="100"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-auto">
                        <i class="fas fa-clipboard-list fa-2x text-gray-300"></i>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Pending Requests Card Example -->
    <div class="col-xl-3 col-md-6 mb-4">
        <div class="card border-left-warning shadow h-100 py-2">
            <div class="card-body">
                <div class="row no-gutters align-items-center">
                    <div class="col mr-2">
                        <div class="text-xs font-weight-bold text-warning text-uppercase mb-1">
                            Pending Complaints</div>
                        <div class="h5 mb-0 font-weight-bold text-gray-800">18</div>
                    </div>
                    <div class="col-auto">
                        <i class="fa fa-clock-o fa-2x text-gray-300"></i>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Content Row -->

<div class="row">

    <!-- Area Chart -->
    <div class="col-xl-8 col-lg-7">
        <div class="card shadow mb-4">
            <!-- Card Header - Dropdown -->
            <div
                class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
                <h6 class="m-0 font-weight-bold text-primary">Customer Complaints</h6>
                <div class="dropdown no-arrow">
                    <a class="dropdown-toggle" href="#" role="button" id="dropdownMenuLink"
                        data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        <i class="fas fa-ellipsis-v fa-sm fa-fw text-gray-400"></i>
                    </a>
                    <div class="dropdown-menu dropdown-menu-right shadow animated--fade-in"
                        aria-labelledby="dropdownMenuLink">
                        <div class="dropdown-header">Dropdown Header:</div>
                        <a class="dropdown-item" href="#">Action</a>
                        <a class="dropdown-item" href="#">Another action</a>
                        <div class="dropdown-divider"></div>
                        <a class="dropdown-item" href="#">Something else here</a>
                    </div>
                </div>
            </div>
            <!-- Card Body -->
            <div class="card-body">
                <div class="chart-area" style="overflow-y: scroll;">
                    <div class="">
                        <table class="table border">
                            <tr>
                                <td>
                                    Lorem ipsum dolor sit amet consectetur adipisicing elit.
                                    Magni ratione reiciendis voluptatibus minima consequatur
                                    facere, commodi temporibus nulla rerum unde nihil ab
                                    eligendi nemo fugit porro voluptate necessitatibus harum
                                    sunt?
                                </td>
                                <td style="width: 30px;color: green;">
                                    <i class="fa fa-check" title="mark as complete"></i>
                                </td>

                                <td style="width: 30px;color: rgb(135, 103, 103);"
                                    title="remove complaint">
                                    <i class="fa fa-trash" onMouseOver="this.style.color='red'"
                                        onMouseOut="this.style.color='rgb(135, 103, 103)'"></i>
                                </td>

                                <td style="width: 30px;" title="send for review">
                                    <i class="fa fa-eye"></i>
                                </td>
                            </tr>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Pie Chart -->
    <div class="col-xl-4 col-lg-5">
        <div class="card shadow mb-4">
            <!-- Card Header - Dropdown -->
            <div
                class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
                <h6 class="m-0 font-weight-bold text-primary">Dustbin Indicator</h6>
                <div class="dropdown no-arrow">
                    <a class="dropdown-toggle" href="/add-dustbin">
                        <button class="btn-success p-2">+ Add Dustbin</button>
                    </a>
                </div>
            </div>
            <!-- Card Body -->
            <div class="card-body" >
                <div class="chart-pie" style="overflow: scroll;">
                    <table class="table border">
                        <tr>
                            <th>
                                ID
                            </th>
                            <th>
                                Name
                            </th>
                            <th>
                                Location
                            </th>

                            <th>
                                Managed By
                            </th>

                            <th>
                                Staus
                            </th>
                        </tr>
                        <% for(var i=0; i < dustbinInfo.length ; i++) { %>
                        <tr>
                            <td>
                                <%= dustbinInfo[i]["id"] %>
                            </td>

                            <td class="border">
                                <%= dustbinInfo[i]["dustbin-name"] %>
                            </td>

                            <td class="border">
                                <%= dustbinInfo[i]["dustbin-location"] %>
                            </td>

                            <td class="border">
                                <%= dustbinInfo[i].DustbinAllDetails[0]["driver-name"] %>
                            </td>

                            <td>
                                <% 
                                var percent=-1;
                                percent = (dustbinData[i].DustbinStatus[0]["dustbinCurWeight"]/dustbinData[i].DustbinStatus[0]["dustbinMaxWeight"])*100;
                                if(percent >= 80 && percent <= 100)
                                { %>
                                    <%= percent %>
                                <i class="fas fa-circle text-danger"></i>
                                <% } else if (percent >= 50){ %>
                                    <%= percent %>
                                <i class="fas fa-circle text-info"></i>
                                <% } else if(percent >= 0) { %>
                                    <%= percent %>
                                <i class="fas fa-circle text-success"></i>
                                <% } else { %>
                                    <%= percent %>
                                <i class="fas fa-circle text-dark"></i>
                                <% } %>
                            </td>
                        </tr>
                        <% } %>
                    </table>
                </div>
                <div class="mt-4 text-center small">
                    <span class="mr-2">
                        <i class="fas fa-circle text-danger"></i> Full
                    </span>
                    <span class="mr-2">
                        <i class="fas fa-circle text-info"></i> Medium
                    </span>
                    <span class="mr-2">
                        <i class="fas fa-circle text-success"></i> Empty
                    </span>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Content Row -->
<div class="row">

    <!-- Content Column -->
    <div class="col-lg-6 mb-4">

        <!-- Project Card Example -->
        <div class="card shadow mb-4">
            <div class="card-header py-3">
                <h6 class="m-0 font-weight-bold text-primary">Daily Cleaning Status</h6>
            </div>

            <div class="card-body">
                <div class="font-weight-bold">
                    Today Cleaning Status

                    <div class="float-right">
                        Choose date <input type="date">
                        <input type="button" class="btn-success pl-2 pr-2" value="find">
                    </div>
                </div>

                <div class="pt-4">
                    <h4 class="small font-weight-bold">Cleaned on 9-01-2019 <span
                            class="float-right">20%</span></h4>
                    <div class="progress mb-4">
                        <div class="progress-bar bg-success" role="progressbar"
                            style="width: 20%" aria-valuenow="20" aria-valuemin="0"
                            aria-valuemax="100"></div>
                    </div>
                </div>
                <div class="pt-2">
                    <h4 class="small font-weight-bold">Not Cleaned on 9-01-2019 <span
                            class="float-right">20%</span></h4>
                    <div class="progress mb-4">
                        <div class="progress-bar bg-danger" role="progressbar"
                            style="width: 20%" aria-valuenow="20" aria-valuemin="0"
                            aria-valuemax="100"></div>
                    </div>
                </div>


                <a href="/dusbin">get full status</a>
            </div>
        </div>
    </div>

    <div class="col-lg-6 mb-4">

        <!-- Illustrations -->
        <div class="card shadow mb-4">
            <div class="card-header py-3">
                <h6 class="m-0 font-weight-bold text-primary">Driver Information</h6>
                <div class="mt-1 p-1">
                    <a href="/add-driver" class="btn-success m-0 p-1">
                        <i class="fa fa-plus"></i>Add Driver</a>
                </div>
            </div>
            <div class="card-body" style="overflow-y: scroll; height: 200px;">
                <div class="text-center" style="display: flex;">
                    <table class="table">
                        <tr>
                            <th>Name</th>
                            <th>Mobile</th>
                            <th>Working Location </th>
                            <th>Status</th>
                            <th></th>
                        </tr>
                        <% for(var i=0; i < driverInfo.length; i++ ){ %>
                        <tr>
                            <td>
                                <img class="img-fluid"
                                    style="width: 40px;height: 40px; border-radius: 50%;"
                                    src="<%= driverInfo[i]['driver_photo'] %>"
                                    alt="missing">
                                &nbsp; <%= driverInfo[i]['driver-name'] %>
                            </td>
                            <td><%= driverInfo[i]['driver-mobile'] %></td>
                            <td><%= driverInfo[i]['driver-address'] %></td>
                            <td>
                                <i class="text-success">Present</i>
                            </td>
                            <td>
                                <i class="ml-2 fas fa-edit text-black-50"
                                    aria-hidden="true"></i>
                            </td>
                        </tr>
                    <% } %>
                    </table>
                </div>
            </div>
        </div>
